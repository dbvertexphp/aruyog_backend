import{r,j as e,S as y,T as v,I as de,x as U,L as pe,M as d,P as a,B as H,R as L,h as he,O as ue,N as xe,Q as ge,W as me}from"./index-daad4356.js";import{A as P}from"./admin-0dbd15a2.js";import{T as Q,a as n,C as B,b as fe,c as je,d as be,e as ye,f as ve,g as Se}from"./TableSortLabel-c54745fa.js";import{C as Ie}from"./Container-f3314c34.js";import{F as O,I as w}from"./FormControl-8b94c86a.js";import{S as E}from"./Select-7e1876e1.js";import{C as Te}from"./Card-3a4c491b.js";import"./isMuiElement-f622d2cf.js";function F({Userid:p,question:h,difficultyLevel:u,categoryId:S,topicId:l,subtopicId:x,option1:f,option2:I,option3:s,option4:T,answer:j,description:A,type:C,selectedYear:R,randomize:g,selected:D,handleClick:b,handleDelete:q}){const[m,k]=r.useState(null),N=W=>{k(W.currentTarget)},z=()=>{k(null)};return console.log(g),e.jsxs(e.Fragment,{children:[e.jsxs(Q,{hover:!0,tabIndex:-1,role:"checkbox",selected:D,children:[e.jsx(n,{padding:"checkbox",children:e.jsx(B,{disableRipple:!0,checked:D,onChange:b})}),e.jsx(n,{component:"th",scope:"row",padding:"none",children:e.jsx(y,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(v,{variant:"subtitle2",noWrap:!0,children:h})})}),e.jsx(n,{children:u}),e.jsx(n,{children:e.jsx(y,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(v,{variant:"subtitle4",noWrap:!0,children:S})})}),e.jsx(n,{children:e.jsx(y,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(v,{variant:"subtitle4",noWrap:!0,children:l})})}),e.jsx(n,{children:e.jsx(y,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(v,{variant:"subtitle4",noWrap:!0,children:x})})}),e.jsx(n,{children:f}),e.jsx(n,{children:I}),e.jsx(n,{children:s}),e.jsx(n,{children:T}),e.jsx(n,{children:j}),e.jsx(n,{children:e.jsx(y,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(v,{variant:"subtitle4",noWrap:!0,children:A})})}),e.jsx(n,{children:C}),e.jsx(n,{children:R}),e.jsx(n,{children:g?"True":"False"}),e.jsx(n,{children:e.jsx(de,{onClick:N,children:e.jsx(U,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(pe,{open:!!m,anchorEl:m,onClose:z,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:e.jsxs(d,{onClick:()=>q(p),children:[e.jsx(U,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]})})]})}F.propTypes={Userid:a.any,description:a.any,categoryId:a.any,handleClick:a.func,selected:a.any,handleDelete:a.func.isRequired,question:a.any,difficultyLevel:a.any,topicId:a.any,subtopicId:a.any,option1:a.any,option2:a.any,option3:a.any,option4:a.any,answer:a.any,type:a.any,selectedYear:a.any,randomize:a.bool};const Ce={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function M({order:p,orderBy:h,rowCount:u,headLabel:S,numSelected:l,onRequestSort:x,onSelectAllClick:f}){const I=s=>T=>{x(T,s)};return e.jsx(fe,{children:e.jsxs(Q,{children:[e.jsx(n,{padding:"checkbox",children:e.jsx(B,{indeterminate:l>0&&l<u,checked:u>0&&l===u,onChange:f})}),S.map(s=>e.jsx(n,{align:s.align||"left",sortDirection:h===s.id?p:!1,sx:{width:s.width,minWidth:s.minWidth},className:"add_Table_header",children:e.jsxs(je,{hideSortIcon:!0,active:h===s.id,direction:h===s.id?p:"asc",onClick:I(s.id),children:[s.label,h===s.id?e.jsx(H,{sx:{...Ce},children:p==="desc"?"sorted descending":"sorted ascending"}):null]})},s.id))]})})}M.propTypes={order:a.oneOf(["asc","desc"]),orderBy:a.string,rowCount:a.number,headLabel:a.array,numSelected:a.number,onRequestSort:a.func,onSelectAllClick:a.func};function _e(){const[p,h]=r.useState(0),[u,S]=r.useState("asc"),[l,x]=r.useState([]),[f,I]=r.useState("name"),[s,T]=r.useState(5),[j,A]=r.useState([]),[C,R]=L.useState("all"),[g,D]=L.useState("all"),[b,q]=L.useState("all"),[m,k]=L.useState("all"),[N,z]=r.useState([]),[W,Y]=r.useState([]),[V,G]=r.useState([]),$=t=>{R(t.target.value)},J=t=>{D(t.target.value)},K=t=>{q(t.target.value)},X=t=>{k(t.target.value)},Z=async()=>{let t=C,i=g,o=b,c=m;t==="all"&&(t=""),g==="all"&&(i=""),b==="all"&&(o=""),m==="all"&&(c="");try{const _=await P.getAllQuestions(t,i,o,c);A(_.data)}catch(_){console.error("Error fetching data:",_)}};r.useEffect(()=>{Z()},[C,g,b,m]);const ee=(t,i)=>{i!==""&&(S(f===i&&u==="asc"?"desc":"asc"),I(i))},te=t=>{if(t.target.checked){const i=j.map(o=>o.name);x(i);return}x([])},ae=(t,i)=>{const o=l.indexOf(i);let c=[];o===-1?c=c.concat(l,i):o===0?c=c.concat(l.slice(1)):o===l.length-1?c=c.concat(l.slice(0,-1)):o>0&&(c=c.concat(l.slice(0,o),l.slice(o+1))),x(c)},se=(t,i)=>{h(i)},ne=t=>{h(0),T(parseInt(t.target.value,10))},ie=async t=>{const o=ge("Admin_data")._id,c=await P.deleteTopic(t,o);c.status&&(console.log(c),A(_=>_.filter(re=>re._id!==t)))},le=async()=>{try{const t=await P.getAllCategory();z(t.data)}catch(t){console.error("Error fetching data:",t)}},ce=async()=>{try{const t=await P.getAllTopics();Y(t.data)}catch(t){console.error("Error fetching data:",t)}},oe=async()=>{try{const t=await P.getAllSubTopics();G(t.data)}catch(t){console.error("Error fetching data:",t)}};return r.useEffect(()=>{le(),ce(),oe()},[]),e.jsxs(Ie,{maxWidth:"xl",children:[e.jsxs(y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(v,{variant:"h4",children:"Questions"}),e.jsx(he,{component:ue,to:"/add-questions",variant:"contained",color:"inherit",startIcon:e.jsx(U,{icon:"eva:plus-fill"}),children:"New Questions"})]}),e.jsxs(H,{children:[e.jsxs(O,{sx:{margin:"16px"},className:"fillter_input",children:[e.jsx(w,{id:"demo-simple-select-label",children:"Category"}),e.jsxs(E,{className:"add_quiz_filed",labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,label:"SelectCategory",onChange:$,children:[e.jsx(d,{value:"all",children:"All"},"all"),N.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(O,{className:"fillter_input",sx:{margin:"16px"},children:[e.jsx(w,{id:"demo-simple-select-label",children:"Topic"}),e.jsxs(E,{className:"add_quiz_filed",labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,label:"Topic",onChange:J,children:[e.jsx(d,{value:"all",children:"All"},"all"),W.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(O,{className:"fillter_input",sx:{margin:"16px"},children:[e.jsx(w,{id:"demo-simple-select-label",children:"Sub-Topic"}),e.jsxs(E,{className:"add_quiz_filed",labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,label:"Sub-Topic",onChange:K,children:[e.jsx(d,{value:"all",children:"All"},"all"),V.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(O,{className:"fillter_input",sx:{margin:"16px"},children:[e.jsx(w,{id:"demo-simple-select-label",children:"Difficulty Level"}),e.jsxs(E,{className:"add_quiz_filed",labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,label:"Difficulty Level",onChange:X,defaultValue:"Average",children:[e.jsx(d,{value:"all",children:"All"},"all"),e.jsx(d,{value:"Easy",children:"Easy"},"Easy"),e.jsx(d,{value:"Average",children:"Average"},"Average"),e.jsx(d,{value:"Hard",children:"Hard"},"Hard"),e.jsx(d,{value:"Veryhard",children:"Veryhard"},"Veryhard")]})]})]}),e.jsxs(Te,{children:[e.jsx(xe,{children:e.jsx(be,{sx:{overflow:"unset"},children:e.jsxs(ye,{sx:{minWidth:800},children:[e.jsx(M,{order:u,orderBy:f,rowCount:j.length,numSelected:l.length,onRequestSort:ee,onSelectAllClick:te,headLabel:[{id:"question",label:"Question"},{id:"difficultyLevel",label:"Difficulty-Level"},{id:"categoryId",label:"Category"},{id:"topicId",label:"Topic"},{id:"subtopicId",label:"Sub-Topic"},{id:"option1",label:"Option-1"},{id:"option2",label:"Option-2"},{id:"option3",label:"Option-3"},{id:"option4",label:"Option-4"},{id:"answer",label:"Answer"},{id:"description",label:"description"},{id:"type",label:"type"},{id:"selectedYear",label:"Year"},{id:"randomize",label:"Randomize"},{id:"status",label:"Status"},{id:""}]}),e.jsx(ve,{children:j.slice(p*s,p*s+s).map(t=>e.jsx(F,{Userid:t._id,question:`${t.question}`,difficultyLevel:t.difficultyLevel,categoryId:t.categoryId.name,topicId:t.topicId.name,subtopicId:t.subtopicId.name,option1:t.option1,option2:t.option2,option3:t.option3,option4:t.option4,answer:t.answer,description:t.description,type:t.type,selectedYear:t.selectedYear,randomize:t.randomize,selected:l.indexOf(t.name)!==-1,handleClick:i=>ae(i,t.name),handleDelete:ie},t._id))})]})})}),e.jsx(Se,{page:p,component:"div",count:j.length,rowsPerPage:s,onPageChange:se,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:ne})]})]})}function Re(){return e.jsxs(e.Fragment,{children:[e.jsx(me,{children:e.jsx("title",{children:" Products | Minimal UI "})}),e.jsx(_e,{})]})}export{Re as default};
